<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Przesyłanie pliku CSV</title>
<style>
  #tableContainer {
    max-height: 400px;
    overflow: auto;
  }
  table {
    border-collapse: collapse;
    width: 100%;
  }
  th, td {
    border: 1px solid #dddddd;
    text-align: left;
    padding: 8px;
  }
  th {
    background-color: #f2f2f2;
  }
</style>
</head>
<body>

<input type="file" id="csvFileInput">
<button onclick="uploadCSV()">Prześlij CSV</button>
<button onclick="downloadCSV()">Pobierz wynik</button>

<ul id="csvHeadersList"></ul>

<h2>Zawartość pliku CSV</h2>

<div id="tableContainer"> 
  <table id="csvTable">
  </table>
</div>

<h2>Edytuj nazwę zmiennej</h2>

<form id="variableEditForm">
  <div>
    <label for="oldVariableName">Stara nazwa zmiennej:</label>
    <select name="oldVariableName" id="oldVariableName">

    </select><br><br>

    <label for="newVariableName">Nowa nazwa zmiennej:</label>
    <input type="text" id="newVariableName" name="newVariableName" required><br><br>
  </div>

  <button type="button" onclick="changeVariableName()">Zapisz zmiany</button><br>
</form>

<h2>Dodaj zmienną</h2>

<form id="variableForm">
  <label for="variableName">Nazwa zmiennej:</label>
  <input type="text" id="variableName" name="variableName" required><br><br>

  <label>Zależności:</label>
  <div id="dataInputs">
    <div class="data-row">
      <input type="text" class="data-input" name="firstVariableName" id="firstVariableInput" required>
      <input type="text" class="data-separator" name="dependencyInput" id="dependencyInput" maxlength="1" required>
      <input type="text" class="data-input" name="secondVariableName" id="secondVariableInput" required>
    </div>
  </div>

  <button type="button" onclick="addDataRow()">Dodaj zależność</button><br>

  <label for="variableValue">Wartość zmiennej:</label>
  <input type="text" id="variableValue" name="variableValue" required><br>
  <button type="button" onclick="addVariableValue()">Dodaj wartośc</button><br>

  <label for="defaultVariableValue">Wartość defaultowa:</label>
  <input type="text" id="defaultVariableValue" name="defaultVariableValue" required><br>

  <button type="button" onclick="addVariable()">Dodaj zmienną</button>
</form>

<script src="script.js"></script>
</body>
</html>
